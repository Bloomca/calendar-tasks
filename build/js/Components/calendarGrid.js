define(["knockout","ViewModels/dayTasks"],function(e,t){function n(e){var t=[],n=e,a=n.getDay();if(a){n.setDate(-(a-1));for(var d=n.getDate(),r=0;a>r;r++)t.push({num:d++,anotherMonth:!0})}var i=new Date(e.getFullYear(),e.getMonth()+1,0);for(r=0;r<i.getDate();r++)t.push({num:r+1});var o=t.length%7;for(r=0;o>r;r++)t.push({num:r+1,anotherMonth:!0});return t}var a="SUN MON TUES WEN THU FRI SAT".split(" ");e.bindingHandlers.calendarGrid={init:function(d,r){var i=r(),o=new Date(i.year,i.month);d.innerHTML="";for(var l=document.createElement("tbody"),c=document.createElement("tr"),u=0;7>u;u++){var h=document.createElement("td");h.classList.add("top"),h.appendChild(document.createTextNode(a[u])),c.appendChild(h)}l.appendChild(c);var s=0,m=n(o);console.log(m);var p=m.length/7;for(u=0;p>u;u++){var v=document.createElement("tr"),f=7*s++,g=m.slice(f,f+7);g.forEach(function(n){var a=document.createElement("td");a.setAttribute("data-bind","click: showFull"),a.id=Math.random(),n.anotherMonth&&a.classList.add("another-month"),a.innerHTML='<div class="date-num">'+n.num+'</div><ul data-bind="foreach: tasks"><li><div data-bind="text: title"></div></li></ul>',v.appendChild(a),e.applyBindings(new t(null,u,s),a)}),l.appendChild(v)}d.appendChild(l)}}});