define(["knockout","ViewModels/dayTasks"],function(e,t){function n(e){var t=[],n=e,a=n.getDay();if(a){n.setDate(-(a-1));for(var r=n.getDate(),d=0;a>d;d++)t.push(r++)}var i=new Date(e.getFullYear(),e.getMonth()+1,0);for(d=0;d<i.getDate();d++)t.push(d+1);var o=t.length%7;for(d=0;o>d;d++)t.push(d+1);return t}var a="SUN MON TUES WEN THU FRI SAT".split(" ");e.bindingHandlers.calendarGrid={init:function(r,d){var i=d(),o=new Date(i.year,i.month);r.innerHTML="";for(var l=document.createElement("tbody"),c=document.createElement("tr"),p=0;7>p;p++){var u=document.createElement("td");u.appendChild(document.createTextNode(a[p])),c.appendChild(u)}l.appendChild(c);var h=0,s=n(o);console.log(s);var m=s.length/7;for(p=0;m>p;p++){var f=document.createElement("tr"),v=7*h++,g=s.slice(v,v+7);g.forEach(function(n){var a=document.createElement("td");a.setAttribute("data-bind","click: showFull"),a.id=Math.random(),a.innerHTML=n,f.appendChild(a),e.applyBindings(new t,a)}),l.appendChild(f)}r.appendChild(l)}}});