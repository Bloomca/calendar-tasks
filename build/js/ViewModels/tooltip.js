define(["knockout","Tasks"],function(t,e){function a(){this.active=t.observable(null),this.tasks=t.observableArray(),this.showTooltip=t.observable(!1),this.note=t.observable(""),this.addNote=function(){var t=this.note();this.note(""),o.blur();var a={title:t,body:t};this.tasks.push(a),this.active().tasks.push(a),e[this.active().dateString]=this.active().tasks(),console.log(e),s()};var a=this;this.deleteNote=function(t){a.active().tasks.remove(t),a.tasks.remove(t),e[a.active().dateString]=a.active().tasks(),s()},this.toggleNote=function(t,e){if("H3"===e.target.tagName){var a=e.target.classList;a.contains("active")?a.remove("active"):a.add("active")}}}function s(){localStorage&&localStorage.setItem("calendar-tasks",JSON.stringify(e))}var i=(document.getElementById("app"),document.getElementById("tooltip")),o=i.querySelector("textarea"),n=new a;return t.applyBindings(n,i),n});